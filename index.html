<!doctype html>
<html lang="ru">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Егор Амирал — Fullstack .NET Developer</title>

    <meta
            name="description"
            content="Егор Амирал — Fullstack .NET разработчик (.NET, JS, PHP). Разрабатываю производительные веб-системы, игровые бекенды и внутренние корпоративные сервисы."
    />
    <meta
            name="keywords"
            content="Fullstack, .NET, C#, ASP.NET Core, Vue, PostgreSQL, Redis, удаленная работа, backend, frontend, web developer"
    />
    <meta name="author" content="Егор Амирал"/>

    <meta property="og:title" content="Егор Амирал — Fullstack .NET Developer"/>
    <meta
            property="og:description"
            content="Fullstack .NET разработчик с опытом в корпоративных системах, игровых проектах и высоконагруженных сервисах."
    />
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="https://askja.github.io/cv/"/>
    <meta property="og:image" content="https://askja.github.io/cv/images/preview.jpg"/>

    <meta name="twitter:card" content="summary_large_image"/>
    <meta name="twitter:title" content="Егор Амирал — Fullstack .NET Developer"/>
    <meta name="twitter:description" content="Разрабатываю надежные и масштабируемые веб-системы на .NET."/>
    <meta name="twitter:image" content="https://askja.github.io/cv/images/preview.jpg"/>

    <link rel="icon" type="image/png" href="icons/favicon.png"/>
    <link rel="shortcut icon" href="icons/favicon.ico"/>

    <link rel="stylesheet" href="css/fabric.min.css"/>
    <link rel="stylesheet" href="css/style.css"/>
    <link rel="stylesheet" href="css/github-dark.min.css"/>
</head>
<body>
<button class="theme-toggle" type="button" onclick="toggleTheme()">
    <i class="ms-Icon ms-Icon--Sunny" id="theme-icon" aria-hidden="true"></i>
    <span id="theme-label">Светлая</span>
</button>

<div class="page" id="resumeContent">
    <section class="surface hero">
        <div>
            <h1 class="hero-title">Егор Амирал</h1>
            <div class="hero-sub">Fullstack .NET Developer (Middle+)</div>
            <p class="tagline">
                Разрабатываю устойчивые веб-системы, игровые бекенды и внутренние корпоративные сервисы. Люблю
                проекты, где важны производительность, архитектура и реальная польза бизнесу.
            </p>
            <div class="hero-badges">
                <span class="badge">.NET 6–8, C#, ASP.NET Core</span>
                <span class="badge">PostgreSQL, MS SQL, Redis</span>
                <span class="badge">Vue 3, TypeScript</span>
                <span class="badge">Удалённый формат работы</span>
            </div>
            <div class="hero-actions">
                <div class="hero-actions__row">
                    <a class="btn-pill" href="mailto:eamiral@ya.ru">
                        <i class="ms-Icon ms-Icon--Mail" aria-hidden="true"></i>
                        Написать на почту
                    </a>
                    <a class="btn-pill secondary" href="https://t.me/askja_tlgrm" target="_blank" rel="noreferrer">
                        <i class="ms-Icon ms-Icon--Message" aria-hidden="true"></i>
                        Связаться в Telegram
                    </a>
                </div>
                <div class="hero-actions__row hero-actions__downloads">
                    <button class="btn-pill secondary" type="button" data-export="pdf">
                        <i class="ms-Icon ms-Icon--Download" aria-hidden="true"></i>
                        Скачать PDF
                    </button>
                    <button class="btn-pill secondary" type="button" data-export="docx">
                        <i class="ms-Icon ms-Icon--DownloadDocument" aria-hidden="true"></i>
                        Скачать DOCX
                    </button>
                </div>
            </div>
        </div>
        <aside class="sidebar-card">
            <h3><i class="ms-Icon ms-Icon--Contact" aria-hidden="true"></i> Контакты</h3>
            <ul class="contact-list">
                <li class="contact-item--email">
                    <i class="ms-Icon ms-Icon--Mail" aria-hidden="true"></i>
                    <a href="mailto:eamiral@ya.ru">eamiral@ya.ru</a>
                </li>
                <li class="contact-item--telegram">
                    <i class="ms-Icon ms-Icon--Message" aria-hidden="true"></i>
                    <a href="https://t.me/askja_tlgrm" target="_blank" rel="noreferrer">@askja_tlgrm</a>
                </li>
                <li class="contact-item--vk">
                    <i class="ms-Icon ms-Icon--People" aria-hidden="true"></i>
                    <a href="https://vk.me/askja_vk" target="_blank" rel="noreferrer">vk.me/askja_vk</a>
                </li>
                <li class="contact-item--format">
                    <i class="ms-Icon ms-Icon--Work" aria-hidden="true"></i>
                    Формат: только удалённая работа
                </li>
            </ul>
        </aside>
    </section>
    <section class="two-col">
        <div class="surface experience-item">
            <div class="section-title">
                <i class="ms-Icon ms-Icon--Work" aria-hidden="true"></i>
                <span>Опыт работы</span>
            </div>
            <h3>Разработчик РСУБД — Московский аэропорт Домодедово</h3>
            <div class="experience-meta">
                Сентябрь 2021 — Октябрь 2025 • Внутренние корпоративные системы, логистика
            </div>

            <div class="experience-columns">
                <div>
                    <strong>Чем занимался:</strong>
                    <ul>
                        <li>
                            Разрабатывал и развивал внутренние веб-системы на ASP.NET Core, EF Core, Dapper и MS
                            SQL / PostgreSQL.
                        </li>
                        <li>
                            Проектировал и реализовывал REST API для интеграции между сервисами и внешними
                            модулями.
                        </li>
                        <li>
                            Переводил легаси-функционал на современный стек, убирал узкие места и дублирование
                            логики.
                        </li>
                        <li>
                            Участвовал в ревью архитектуры и кода, предлагал улучшения по структуре и
                            производительности.
                        </li>
                    </ul>
                </div>
                <div>
                    <strong>Стек и достижения:</strong>
                    <ul>
                        <li>
                            <b>Стек:</b> C#, .NET Core 3.1/6/8, ASP.NET Core, EF Core, Dapper, MS SQL,
                            PostgreSQL, Redis, Azure DevOps.
                        </li>
                        <li>
                            Настроил CI/CD пайплайны в Azure DevOps: автосборка, тесты, выкладки на стенды, что
                            ускорило релизы.
                        </li>
                        <li>
                            Оптимизировал сложные SQL-запросы и участки кода, снизив время отклика в отдельных
                            сценариях на 30–40%.
                        </li>
                        <li>
                            Выявлял и устранял уязвимости и ошибки на ранних этапах, сокращая регрессии в
                            продакшене.
                        </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="surface">
            <div class="section-title">
                <i class="ms-Icon ms-Icon--Globe" aria-hidden="true"></i>
                <span>Формат работы</span>
            </div>
            <ul class="format-list">
                <li>Ищу долгосрочное сотрудничество в формате <b>полной удалёнки</b>.</li>
                <li>Комфортно работать в распределённых командах, понимаю важность прозрачной коммуникации.</li>
                <li>Привык к code review, задачам через трекер и выпуску фич через CI/CD.</li>
                <li>Готов брать ответственность за конечный результат, а не только за «запушенный код».</li>
            </ul>
        </div>
    </section>
    <section class="surface">
        <div class="section-title">
            <i class="ms-Icon ms-Icon--Tiles" aria-hidden="true"></i>
            <span>Проекты и примеры работ</span>
        </div>
        <p style="font-size: 0.9rem; margin-bottom: 8px">
            Несколько живых и pet-проектов
        </p>

        <div class="projects-grid">
            <article class="project-card" data-image="images/bravegame.jpg">
                <div class="project-thumb">
                    <img src="images/bravegame.jpg" alt="BraveGame"/>
                </div>
                <div class="project-body">
                    <div class="project-title">BraveGame — военная браузерная игра</div>
                    <div>
                        Переписываю существующий проект на .NET 9: backend с SignalR, SSE, Redis Streams,
                        модульная архитектура, подготовка к Vue 3 + TS клиенту.
                    </div>
                    <div class="project-tags">
                        <span class="project-tag">.NET 9</span>
                        <span class="project-tag">SignalR</span>
                        <span class="project-tag">Redis Streams</span>
                        <span class="project-tag">PostgreSQL</span>
                    </div>
                </div>
            </article>

            <article class="project-card" data-image="images/scanner.jpg">
                <div class="project-thumb">
                    <img src="images/scanner.jpg" alt="JavaFX игровой сканер игроков"/>
                </div>
                <div class="project-body">
                    <div class="project-title">Сканер игроков + рассылка через VK API</div>
                    <div>
                        Десктоп-приложение на JavaFX для анализа игровых показателей, группировки игроков и
                        автоматической рассылки заявок через VK API.
                    </div>
                    <div class="project-tags">
                        <span class="project-tag">JavaFX</span>
                        <span class="project-tag">REST API</span>
                        <span class="project-tag">VK API</span>
                    </div>
                </div>
            </article>

            <article class="project-card" data-image="images/bot.jpg">
                <div class="project-thumb">
                    <img src="images/bot.jpg" alt="Автоматизация игрового процесса"/>
                </div>
                <div class="project-body">
                    <div class="project-title">Автоматизация игрового процесса</div>
                    <div>
                        Backend на Yii2 + Redis + PostgreSQL, который выполняет игровые действия оффлайн на
                        стороне сервера, с управлением через веб-панель.
                    </div>
                    <div class="project-tags">
                        <span class="project-tag">PHP</span>
                        <span class="project-tag">Yii2</span>
                        <span class="project-tag">Redis</span>
                        <span class="project-tag">PostgreSQL</span>
                    </div>
                </div>
            </article>

            <article class="project-card" data-image="images/generator.jpg">
                <div class="project-thumb">
                    <img src="images/generator.jpg" alt="Генератор учебных ведомостей"/>
                </div>
                <div class="project-body">
                    <div class="project-title">Генератор учебных ведомостей</div>
                    <div>
                        Система формирования ведомостей успеваемости (PHP + Excel), которая по сей день
                        используется в вузе для автоматизации рутины.
                    </div>
                    <div class="project-tags">
                        <span class="project-tag">PHP</span>
                        <span class="project-tag">Excel</span>
                        <span class="project-tag">Automation</span>
                    </div>
                </div>
            </article>

            <article class="project-card" data-image="images/ext.jpg">
                <div class="project-thumb">
                    <img src="images/ext.jpg" alt="Браузерное расширение"/>
                </div>
                <div class="project-body">
                    <div class="project-title">Браузерное расширение для игры вк</div>
                    <div>
                        На js используя tampermonkey реализовал скрипт позволяющий просматривать игровую статистику игрока прямо на сайте "ВКонтакте". Помимо просмотра игровой статистики была еще возможность выполнять некоторые игровые действия не заходя в игру. Писалось все на чистом js
                    </div>
                    <div class="project-tags">
                        <span class="project-tag">JavaScript</span>
                        <span class="project-tag">localStorage, MutationObserver</span>
                        <span class="project-tag">Tampermonkey</span>
                        <span class="project-tag">JSON</span>
                    </div>
                </div>
            </article>

            <article class="project-card" data-image="images/calc.jpg">
                <div class="project-thumb">
                    <img src="images/calc.jpg" alt="Игровой калькулятор"/>
                </div>
                <div class="project-body">
                    <div class="project-title">Калькулятор игровых снарядов</div>
                    <div>
                        Данный модуль сайта использовался для произведения расчетов игрового урона по боссам с учетом разных баффов и возможностью внесения ручных модификаций в количество снарядов на случай покупки либо ограничения снарядов. Вдобавок считались дополнительные показатели которые давались после нанесения урона(порох, гильзы, опыт в рюкзак).
                    </div>
                    <div class="project-tags">
                        <span class="project-tag">PHP 5.6</span>
                        <span class="project-tag">JavaScript</span>
                        <span class="project-tag">AJAX</span>
                    </div>
                </div>
            </article>

            <article class="project-card" data-image="images/chatbot.jpg">
                <div class="project-thumb">
                    <img src="images/chatbot.jpg" alt="Чат-бот вк"/>
                </div>
                <div class="project-body">
                    <div class="project-title">Чат-бот вк для просмотра игровой статистики "Метро 2033"</div>
                    <div>
                        Чат-бот используется и по сей день, он служит для отображения игровых показателей человека чью ссылку отправляют боту. Можно просмотреть множество показателей без входа в игру с любого устройства которое имеет доступ к вк.
                    </div>
                    <div class="project-tags">
                        <span class="project-tag">PHP 8.4</span>
                        <span class="project-tag">MySQL</span>
                        <span class="project-tag">DI/Monolog</span>
                        <span class="project-tag">SRP/DRY/KISS/YAGNI</span>
                    </div>
                </div>
            </article>

            <article class="project-card" data-image="images/getlist.jpg">
                <div class="project-thumb">
                    <img src="images/getlist.jpg" alt="GetList"/>
                </div>
                <div class="project-body">
                    <div class="project-title">GetList - парсер игроков</div>
                    <div>
                        Программа была разработана для парсинга игроков из роты и позволяла составлять списки по красивым шаблонам для быстрого оформления постов в вк.
                    </div>
                    <div class="project-tags">
                        <span class="project-tag">PHP 5.6</span>
                        <span class="project-tag">JavaFX</span>
                    </div>
                </div>
            </article>
        </div>
    </section>

    <section class="surface">
        <div class="code-section-header">
            <div class="section-title">
                <i class="ms-Icon ms-Icon--Code" aria-hidden="true"></i>
                <span>Примеры кода</span>
            </div>
        </div>

        <p style="font-size:0.9rem;margin-bottom:4px;">
            Пара реальных примеров кода, которые хорошо показывают мой подход к архитектуре, стилю и читаемости.
        </p>

        <div class="code-picker-row">
            <label for="codeSampleSelect">Файл:</label>
            <select id="codeSampleSelect">
                <option value="cacheEngine">Cache/Engine/CacheEngine.cs (.NET, движок кеширования)</option>
                <option value="eventBus">EventBus/Core/EventBus.cs (.NET, шина событий)</option>
                <option value="iconButton">frontend/src/components/ui/IconButton.vue (Vue 3 компонент)</option>
                <option value="phpService">MetroScript/Service/FriendStatusService.php (PHP, сервис проверки дружбы)</option>
            </select>
        </div>

        <div class="code-block-wrapper">
            <pre class="code-block active" data-key="cacheEngine">
                <code class="language-csharp">
using System.Buffers;
using Cache.Configuration;
using Cache.Interfaces;
using Data.Interfaces;
using Domain.Enums.Redis;
using MessagePack;
using StackExchange.Redis;

namespace Cache.Engine;

public sealed class CacheEngine&lt;T&gt; : ICacheEngine&lt;T&gt; where T : class {
    private readonly int _compressionThreshold;
    private readonly TimeSpan _defaultTtl;

    private readonly IShardContextAccessor _shardAccessor;
    private readonly IShardRedisManager _shardManager;
    private readonly TimeSpan _slidingTtl;

    public CacheEngine(CacheOptions options, IShardRedisManager shardManager, IShardContextAccessor shardAccessor) {
        _shardManager = shardManager ?? throw new ArgumentNullException(nameof(shardManager));
        _shardAccessor = shardAccessor ?? throw new ArgumentNullException(nameof(shardAccessor));
        _ = options ?? throw new ArgumentNullException(nameof(options));

        _compressionThreshold = options.CompressionThreshold &lt;= 0 ? 1024 : options.CompressionThreshold;

        _defaultTtl = options.CacheLifeTime;
        _slidingTtl = options.SlidingLifeTime;
    }

    public async ValueTask&lt;T?&gt; GetAsync(string key, bool useSlidingTtl = true) {
        IDatabase db = await GetDatabaseAsync().ConfigureAwait(false);
        RedisValue rv = await db.StringGetAsync(key).ConfigureAwait(false);

        if (!rv.HasValue || rv.IsNullOrEmpty) {
            return null;
        }

        if (useSlidingTtl &amp;&amp; _slidingTtl &gt; TimeSpan.Zero) {
            _ = db.KeyExpireAsync(key, _slidingTtl);
        }

        return Deserialize((byte[])rv!);
    }

    public async ValueTask&lt;T&gt; GetOrSetAsync(string key, Func&lt;ValueTask&lt;T&gt;&gt; loader, TimeSpan? ttl = null) {
        T? cached = await GetAsync(key).ConfigureAwait(false);

        if (cached is not null) {
            return cached;
        }

        T entity = await loader().ConfigureAwait(false);

        await SetAsync(key, entity, ttl).ConfigureAwait(false);

        return entity;
    }

    public async ValueTask SetAsync(string key, T entity, TimeSpan? ttl = null) {
        (byte[] buffer, int length) = Serialize(entity, _compressionThreshold);

        try {
            IDatabase db = await GetDatabaseAsync().ConfigureAwait(false);

            byte[] payload = buffer.AsMemory(0, length).ToArray();
            _ = await db.StringSetAsync(key, payload, ttl ?? _defaultTtl).ConfigureAwait(false);
        } finally {
            ArrayPool&lt;byte&gt;.Shared.Return(buffer);
        }
    }

    public async ValueTask&lt;bool&gt; InvalidateAsync(string key) {
        IDatabase db = await GetDatabaseAsync().ConfigureAwait(false);

        return await db.KeyDeleteAsync(key).ConfigureAwait(false);
    }

    public async ValueTask SetManyAsync(IReadOnlyDictionary&lt;string, T&gt; entities, TimeSpan? ttl = null) {
        if (entities.Count == 0) {
            return;
        }

        IDatabase db = await GetDatabaseAsync().ConfigureAwait(false);
        IBatch batch = db.CreateBatch();
        List&lt;Task&lt;bool&gt;&gt; tasks = new(entities.Count);

        foreach ((string key, T entity) in entities) {
            (byte[] buffer, int length) = Serialize(entity, _compressionThreshold);

            byte[] payload = buffer.AsMemory(0, length).ToArray();
            ArrayPool&lt;byte&gt;.Shared.Return(buffer);

            tasks.Add(batch.StringSetAsync(new(key), (RedisValue)payload, ttl ?? _defaultTtl));
        }

        batch.Execute();

        bool[] results = await Task.WhenAll(tasks).ConfigureAwait(false);

        if (results.Any(r =&gt; !r)) {
            throw new InvalidOperationException(&quot;Не все ключи успешно записаны в Redis&quot;);
        }
    }

    public async ValueTask&lt;string&gt; SetAndEnqueueDirtyAsync(
        string key,
        T entity,
        string stream,
        string streamIndexKey,
        long ttlMs,
        long shadowTtlMs,
        string typeKey,
        string? etag = null,
        long? eventUnixMs = null,
        CommandFlags flags = CommandFlags.None) {
        (byte[] buffer, int length) = Serialize(entity, _compressionThreshold);

        try {
            IDatabase db = await GetDatabaseAsync().ConfigureAwait(false);
            string shadowKey = key + &quot;:shadow&quot;;

            RedisKey[] keys = [key, stream, streamIndexKey, shadowKey,];

            RedisValue[] argv = [
                buffer.AsMemory(0, length).ToArray(), ttlMs, typeKey, etag ?? Guid.NewGuid().ToString(&quot;N&quot;),
                eventUnixMs ?? DateTimeOffset.UtcNow.ToUnixTimeMilliseconds(), shadowTtlMs
            ];

            RedisResult res =
            await db.ScriptEvaluateAsync(RedisScripts.SetAndEnqueue, keys, argv, flags).ConfigureAwait(false);

            return (string?)res ?? string.Empty;
        } finally {
            ArrayPool&lt;byte&gt;.Shared.Return(buffer);
        }
    }

    public async ValueTask&lt;IReadOnlyDictionary&lt;string, T?&gt;&gt; GetManyAsync(IEnumerable&lt;string&gt; keys) {
        string[] arr = keys as string[] ?? keys.ToArray();

        if (arr.Length == 0) {
            return new Dictionary&lt;string, T?&gt;(0);
        }

        IDatabase db = await GetDatabaseAsync().ConfigureAwait(false);
        RedisKey[] redisKeys = arr.Select(k =&gt; (RedisKey)k).ToArray();
        RedisValue[] vals = await db.StringGetAsync(redisKeys).ConfigureAwait(false);

        Dictionary&lt;string, T?&gt; dict = new(arr.Length, StringComparer.Ordinal);
        List&lt;int&gt; misses = new(arr.Length);

        for (int i = 0; i &lt; arr.Length; i++) {
            if (vals[i].HasValue &amp;&amp; !vals[i].IsNullOrEmpty) {
                dict[arr[i]] = Deserialize((byte[])vals[i]!);
            } else {
                dict[arr[i]] = null;
                misses.Add(i);
            }
        }

        if (misses.Count &gt; 0) {
            RedisKey[] shadowKeys = misses.Select(i =&gt; (RedisKey)(arr[i] + &quot;:shadow&quot;)).ToArray();

            RedisValue[] shadowVals = await db.StringGetAsync(shadowKeys).ConfigureAwait(false);

            for (int j = 0; j &lt; misses.Count; j++) {
                int idx = misses[j];

                if (shadowVals[j].HasValue &amp;&amp; !shadowVals[j].IsNullOrEmpty) {
                    dict[arr[idx]] = Deserialize((byte[])shadowVals[j]!);
                }
            }
        }

        return dict;
    }

    public async ValueTask InvalidateManyAsync(IEnumerable&lt;string&gt; keys) {
        RedisKey[] redisKeys = keys.Select(k =&gt; (RedisKey)k).ToArray();

        if (redisKeys.Length == 0) {
            return;
        }

        RedisKey[] shadows = redisKeys.Select(k =&gt; (RedisKey)(k.ToString() + &quot;:shadow&quot;)).ToArray();

        RedisKey[] all = new RedisKey[redisKeys.Length + shadows.Length];
        Array.Copy(redisKeys, all, redisKeys.Length);
        Array.Copy(shadows, 0, all, redisKeys.Length, shadows.Length);

        IDatabase db = await GetDatabaseAsync().ConfigureAwait(false);
        _ = await db.KeyDeleteAsync(all).ConfigureAwait(false);
    }

    private static (byte[] buffer, int length) Serialize(T entity, int threshold) {
        byte[] uncompressed = MessagePackSerializer.Serialize(entity, MessagePackOptions.PlainOptions);
        bool shouldZip = uncompressed.Length &gt;= threshold;

        byte[] payload = shouldZip
        ? MessagePackSerializer.Serialize(entity, MessagePackOptions.Lz4Options)
        : uncompressed;

        byte[] buffer = ArrayPool&lt;byte&gt;.Shared.Rent(payload.Length + 1);
        buffer[0] = shouldZip ? (byte)1 : (byte)0;

        Array.Copy(payload, 0, buffer, 1, payload.Length);

        return (buffer, payload.Length + 1);
    }

    private static T Deserialize(byte[] stored) {
        if (stored.Length == 0) {
            throw new InvalidOperationException(&quot;Пустое значение в кеше, не могу десериализовать.&quot;);
        }

        byte flag = stored[0];
        ReadOnlySpan&lt;byte&gt; payload = stored.AsSpan(1);

        return flag switch {
            0 =&gt; MessagePackSerializer.Deserialize&lt;T&gt;(payload.ToArray(), MessagePackOptions.PlainOptions),
            1 =&gt; MessagePackSerializer.Deserialize&lt;T&gt;(payload.ToArray(), MessagePackOptions.Lz4Options),
            var _ =&gt; throw new InvalidOperationException($&quot;Неизвестный флаг компрессии: {flag}&quot;)
        };
    }

    private async Task&lt;IDatabase&gt; GetDatabaseAsync() {
        if (!_shardAccessor.HasValue || _shardAccessor.ServerId &lt;= 0) {
            throw new InvalidOperationException(&quot;Shard is not resolved for current scope (ServerId is not set).&quot;);
        }

        return await _shardManager
        .GetDbAsync(_shardAccessor.Provider, _shardAccessor.ServerId, RedisRole.General)
        .ConfigureAwait(false);
    }
}
                </code>
            </pre>

            <pre class="code-block" data-key="eventBus">
                <code class="language-csharp">
public sealed class EventBus&lt;T&gt;(int capacity = 200) : IEventPublisher&lt;T&gt;, IEventSubscriber&lt;T&gt; where T : class {
    private readonly int _capacity = capacity &gt; 0 ? capacity : 200;
    private readonly ConcurrentDictionary&lt;int, Channel&lt;T&gt;&gt; _subscribers = new();
    private int _nextId;

    public async ValueTask PublishAsync(T evt, CancellationToken ct = default) {
        foreach ((int key, Channel&lt;T&gt; channel) in _subscribers.ToArray()) {
            if (channel.Writer.TryWrite(evt)) {
                continue;
            }

            try {
                await channel.Writer.WriteAsync(evt, ct).ConfigureAwait(false);
            } catch (ChannelClosedException) {
                _subscribers.TryRemove(key, out Channel&lt;T&gt; _);
            } catch (OperationCanceledException) {}
        }
    }

    public async IAsyncEnumerable&lt;T&gt; SubscribeAsync([EnumeratorCancellation] CancellationToken ct = default) {
        int id = Interlocked.Increment(ref _nextId);

        BoundedChannelOptions options = new(_capacity) {
            AllowSynchronousContinuations = false,
            FullMode = BoundedChannelFullMode.Wait,
            SingleReader = false,
            SingleWriter = false
        };

        Channel&lt;T&gt; channel = Channel.CreateBounded&lt;T&gt;(options);
        _subscribers[id] = channel;

        try {
            await foreach (T item in channel.Reader.ReadAllAsync(ct).ConfigureAwait(false)) {
                yield return item;
            }
        } finally {
            if (_subscribers.TryRemove(id, out Channel&lt;T&gt;? ch)) {
                try {
                    ch.Writer.TryComplete();
                } catch {}
            }
        }
    }

    public void Unsubscribe(int subscriptionId) {
        if (!_subscribers.TryRemove(subscriptionId, out Channel&lt;T&gt;? ch)) {
            return;
        }

        try {
            ch.Writer.TryComplete();
        } catch {}
    }
}
                </code>
            </pre>

            <pre class="code-block" data-key="iconButton">
                <code class="language-javascript">
&lt;template&gt;
    &lt;button
        :type="type"
        :disabled="disabled || loading"
        :class="buttonClasses"
        @click="handleClick"
    &gt;
        &lt;span v-if="loading" class="ui-button__spinner"&gt;&lt;/span&gt;

        &lt;span class="ui-button__content"&gt;
            &lt;span class="ui-button__icon"&gt;
                &lt;slot name="icon"&gt;&lt;/slot&gt;
            &lt;/span&gt;

            &lt;span v-if="$slots.default"&gt;
                &lt;slot&gt;&lt;/slot&gt;
            &lt;/span&gt;
        &lt;/span&gt;
    &lt;/button&gt;
&lt;/template&gt;

&lt;script setup&gt;
import {computed} from 'vue';

const emit = defineEmits(['click']);

const props = defineProps({
    type: {
        type: String,
        default: 'button'
    },
    disabled: {
        type: Boolean,
        default: false
    },
    loading: {
        type: Boolean,
        default: false
    },
    variant: {
        type: String,
        default: 'ghost'
    },
    size: {
        type: String,
        default: 'sm'
    }
});

const buttonClasses = computed(() =&gt; {
    const classes = ['ui-button'];

    classes.push(`ui-button--${props.variant}`);

    if (props.size === 'sm' || props.size === 'lg') {
        classes.push(`ui-button--${props.size}`);
    }

    if (props.disabled || props.loading) {
        classes.push('is-disabled');
    }

    return classes;
});

function handleClick(event) {
    if (props.disabled || props.loading) {
        event.preventDefault();
        return;
    }

    emit('click', event);
}
&lt;/script&gt;
                </code>
            </pre>

            <pre class="code-block" data-key="phpService">
                <code class="language-php">
&lt;?php

declare(strict_types=1);

namespace MetroScript\Service;

use MetroScript\Api\VkApiClient;
use MetroScript\Core\Logger;

use function array_chunk;
use function array_filter;
use function array_map;
use function array_unique;
use function implode;
use function in_array;
use function is_array;
use function is_numeric;
use function is_string;
use function max;
use function trim;

/**
&nbsp;* Класс FriendStatusService.
&nbsp;*/
final class FriendStatusService
{
&nbsp;&nbsp; &nbsp;public const FEATURE_HINT = &#039;Проверка друзей выполняется с использованием токена авторизованного пользователя и доступна только по премиальной подписке.&#039;;

&nbsp;&nbsp; &nbsp;private const SELF_STATUS_CODE = 100;
&nbsp;&nbsp; &nbsp;private const API_BATCH_LIMIT = 1000;

&nbsp;&nbsp; &nbsp;/**
&nbsp;&nbsp; &nbsp; * Создает новый экземпляр класса.
&nbsp;&nbsp; &nbsp; */
&nbsp;&nbsp; &nbsp;private function __construct()
&nbsp;&nbsp; &nbsp;{
&nbsp;&nbsp; &nbsp;}

&nbsp;&nbsp; &nbsp;/**
&nbsp;&nbsp; &nbsp; * @param array&lt;int, int|string&gt; $targetVkIds
&nbsp;&nbsp; &nbsp; * @return array&lt;int, int&gt;
&nbsp;&nbsp; &nbsp; */
&nbsp;&nbsp; &nbsp;public static function getStatuses(int $sourceVkId, array $targetVkIds, ?string $accessToken): array
&nbsp;&nbsp; &nbsp;{
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;$sourceVkId = max(0, $sourceVkId);
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;if ($sourceVkId &lt;= 0) {
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;return [];
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;}

&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;$targets = array_values(array_unique(array_filter(array_map(static function ($value) use ($sourceVkId) {
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if (is_numeric($value)) {
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$intValue = (int)$value;
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;return $intValue &gt; 0 &amp;&amp; $intValue !== $sourceVkId ? $intValue : null;
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if (is_string($value) &amp;&amp; trim($value) !== &#039;&#039;) {
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$intValue = (int)$value;
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;return $intValue &gt; 0 &amp;&amp; $intValue !== $sourceVkId ? $intValue : null;
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}

&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;return null;
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;}, $targetVkIds), static fn($value) =&gt; $value !== null)));

&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;if ($targets === []) {
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;return [];
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;}

&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;$token = trim((string)$accessToken);
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;if ($token === &#039;&#039;) {
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Logger::warning(&#039;Проверка друзей пропущена: отсутствует пользовательский токен VK.&#039;);

&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;return [];
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;}

&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;$client = new VkApiClient($token);
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;$result = [];
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;foreach (array_chunk($targets, self::API_BATCH_LIMIT) as $chunk) {
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$response = $client-&gt;friendsAreFriends($sourceVkId, $chunk, self::API_BATCH_LIMIT);
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if (!is_array($response) || $response === []) {
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;continue;
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;foreach ($response as $userId =&gt; $status) {
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$result[$userId] = (int)$status;
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;}

&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;return $result;
&nbsp;&nbsp; &nbsp;}

&nbsp;&nbsp; &nbsp;/**
&nbsp;&nbsp; &nbsp; * Метод getDisplayStatus.
&nbsp;&nbsp; &nbsp; *
&nbsp;&nbsp; &nbsp; * @param int $statusCode Значение параметра.
&nbsp;&nbsp; &nbsp; * @return string Результат выполнения.
&nbsp;&nbsp; &nbsp; */
&nbsp;&nbsp; &nbsp;public static function getDisplayStatus(int $statusCode): string
&nbsp;&nbsp; &nbsp;{
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;return match (true) {
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$statusCode &gt;= self::SELF_STATUS_CODE =&gt; &#039;Это вы&#039;,
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$statusCode === 1 =&gt; &#039;В друзьях&#039;,
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$statusCode === 2 =&gt; &#039;Заявка отправлена&#039;,
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$statusCode === 3 =&gt; &#039;Запрос от игрока&#039;,
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$statusCode === 4 =&gt; &#039;В подписчиках&#039;,
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;default =&gt; &#039;—&#039;,
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;};
&nbsp;&nbsp; &nbsp;}

&nbsp;&nbsp; &nbsp;/**
&nbsp;&nbsp; &nbsp; * Метод getBadgeClass.
&nbsp;&nbsp; &nbsp; *
&nbsp;&nbsp; &nbsp; * @param int $statusCode Значение параметра.
&nbsp;&nbsp; &nbsp; * @return string Результат выполнения.
&nbsp;&nbsp; &nbsp; */
&nbsp;&nbsp; &nbsp;public static function getBadgeClass(int $statusCode): string
&nbsp;&nbsp; &nbsp;{
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;return match (true) {
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$statusCode &gt;= self::SELF_STATUS_CODE =&gt; &#039;is-self&#039;,
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$statusCode === 1 =&gt; &#039;is-friend&#039;,
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;in_array($statusCode, [2, 3], true) =&gt; &#039;is-request&#039;,
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$statusCode === 4 =&gt; &#039;is-subscriber&#039;,
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;default =&gt; &#039;is-none&#039;,
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;};
&nbsp;&nbsp; &nbsp;}

&nbsp;&nbsp; &nbsp;/**
&nbsp;&nbsp; &nbsp; * Метод getSelfStatusCode.
&nbsp;&nbsp; &nbsp; * @return int Результат выполнения.
&nbsp;&nbsp; &nbsp; */
&nbsp;&nbsp; &nbsp;public static function getSelfStatusCode(): int
&nbsp;&nbsp; &nbsp;{
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;return self::SELF_STATUS_CODE;
&nbsp;&nbsp; &nbsp;}
}
                </code>
            </pre>
        </div>

        <div class="code-meta">
            Код оформлен в едином стиле, без "магии", с явной архитектурой и упором на читаемость.
        </div>
    </section>

    <section class="surface">
        <div class="section-title">
            <i class="ms-Icon ms-Icon--BulletedList" aria-hidden="true"></i>
            <span>Навыки и стек</span>
        </div>
        <p style="font-size: 0.9rem; margin-bottom: 6px">
            Основной фокус — backend на .NET и архитектура, но комфортно чувствую себя и на фронте, и в
            инфраструктуре.
        </p>
        <div class="skills-grid">
            <span class="skill-chip">.NET 6–8</span>
            <span class="skill-chip">C#</span>
            <span class="skill-chip">ASP.NET Core</span>
            <span class="skill-chip">EF Core</span>
            <span class="skill-chip">Dapper</span>
            <span class="skill-chip">PostgreSQL</span>
            <span class="skill-chip">MS SQL Server</span>
            <span class="skill-chip">Redis</span>
            <span class="skill-chip">Redis Streams</span>
            <span class="skill-chip">SignalR</span>
            <span class="skill-chip">WebSockets</span>
            <span class="skill-chip">REST API</span>
            <span class="skill-chip">SSE</span>
            <span class="skill-chip">CQRS</span>
            <span class="skill-chip">DRY/KISS/YAGNI</span>
            <span class="skill-chip">Clean Architecture</span>
            <span class="skill-chip">Unit Testing</span>
            <span class="skill-chip">Integration Testing</span>
            <span class="skill-chip">xUnit / NUnit</span>
            <span class="skill-chip">Git</span>
            <span class="skill-chip">GitHub</span>
            <span class="skill-chip">Azure DevOps</span>
            <span class="skill-chip">CI/CD Pipelines</span>
            <span class="skill-chip">Docker</span>
            <span class="skill-chip">K3s</span>
            <span class="skill-chip">Ubuntu Server</span>
            <span class="skill-chip">Nginx</span>
            <span class="skill-chip">Reverse Proxy</span>
            <span class="skill-chip">JavaScript</span>
            <span class="skill-chip">TypeScript</span>
            <span class="skill-chip">Vue 3</span>
            <span class="skill-chip">Vite</span>
            <span class="skill-chip">HTML5</span>
            <span class="skill-chip">CSS3</span>
            <span class="skill-chip">Bootstrap</span>
            <span class="skill-chip">jQuery</span>
            <span class="skill-chip">PHP 5.6-8.4</span>
            <span class="skill-chip">Yii2</span>
            <span class="skill-chip">Laravel (base)</span>
            <span class="skill-chip">VK API</span>
            <span class="skill-chip">Telegram API</span>
            <span class="skill-chip">Excel/PhpSpreadsheet</span>
            <span class="skill-chip">DevExpress</span>
            <span class="skill-chip">Rider</span>
            <span class="skill-chip">PhpStorm</span>
            <span class="skill-chip">MVC</span>
            <span class="skill-chip">LINQ</span>
            <span class="skill-chip">Multithreading</span>
            <span class="skill-chip">Profiling/Optimization</span>
        </div>
    </section>
</div>

<div class="gallery-overlay" id="galleryOverlay">
    <div class="gallery-close" onclick="closeGallery()">
        <i class="ms-Icon ms-Icon--ChromeClose" aria-hidden="true"></i>
        Закрыть
    </div>
    <img id="galleryImage" src="" alt="Project screenshot"/>
</div>

<script type="text/javascript" src="js/highlight.min.js"></script>
<script type="text/javascript" src="js/csharp.min.js"></script>
<script type="text/javascript" src="js/javascript.min.js"></script>
<script type="text/javascript" src="js/php.min.js"></script>
<script
        src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"
        integrity="sha512-GsLlZN/3F2ErC5ifS5QtgpiJtWd43JWSuIgh7mbzZ8zBps+dvLusV+eNQATqgA/HdeKFVgA5v3S/cIrLF7QnIg=="
        crossorigin="anonymous"
        referrerpolicy="no-referrer"
></script>
<script
        src="https://cdnjs.cloudflare.com/ajax/libs/html-docx-js/0.3.1/html-docx.js"
        integrity="sha512-v8yiIoR8sEYl6tQJtXMhoiV7r4OVIj3oPJR0u8uYoMy0lWPjtVTopMsyZUOh6xBpc0rXG/6CmCiyxTOAcTQAvg=="
        crossorigin="anonymous"
        referrerpolicy="no-referrer"
></script>
<script type="text/javascript" src="js/main.js"></script>
</body>
</html>
